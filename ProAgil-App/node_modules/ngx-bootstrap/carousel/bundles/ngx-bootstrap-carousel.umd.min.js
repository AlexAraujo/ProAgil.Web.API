!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@angular/core"),require("ngx-bootstrap/utils"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-bootstrap/carousel",["exports","@angular/core","ngx-bootstrap/utils","@angular/common"],i):i(((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-bootstrap"]=e["ngx-bootstrap"]||{},e["ngx-bootstrap"].carousel={}),e.ng.core,e.utils,e.ng.common)}(this,(function(e,i,t,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function n(e,i){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var s,n,r=t.call(e),o=[];try{for(;(void 0===i||i-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(e){n={error:e}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}return o}function r(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(n(arguments[i]));return e}Object.create;var o,l=function(){this.interval=5e3,this.noPause=!1,this.noWrap=!1,this.showIndicators=!0,this.pauseOnFocus=!1,this.indicatorsByChunk=!1,this.itemsPerSlide=1,this.singleSlideOffset=!1};l.ɵprov=i.ɵɵdefineInjectable({factory:function(){return new l},token:l,providedIn:"root"}),l.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NEXT=1]="NEXT",e[e.PREV=2]="PREV"}(o||(o={}));var d=function(){function e(e,s){this.ngZone=s,this.noWrap=!1,this.noPause=!1,this.showIndicators=!0,this.pauseOnFocus=!1,this.indicatorsByChunk=!1,this.itemsPerSlide=1,this.singleSlideOffset=!1,this.isAnimated=!1,this.activeSlideChange=new i.EventEmitter(!1),this.slideRangeChange=new i.EventEmitter,this.startFromIndex=0,this._interval=5e3,this._slides=new t.LinkedList,this._currentVisibleSlidesIndex=0,this.isPlaying=!1,this.destroyed=!1,this.getActive=function(e){return e.active},this.makeSlidesConsistent=function(e){e.forEach((function(e,i){return e.item.order=i}))},Object.assign(this,e)}return Object.defineProperty(e.prototype,"activeSlide",{get:function(){return this._currentActiveSlide||0},set:function(e){this.multilist||this._slides.length&&e!==this._currentActiveSlide&&this._select(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interval",{get:function(){return this._interval},set:function(e){this._interval=e,this.restartTimer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slides",{get:function(){return this._slides.toArray()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isBs4",{get:function(){return!t.isBs3()},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){e.singleSlideOffset&&(e.indicatorsByChunk=!1),e.multilist&&(e._chunkedSlides=function(e,i){for(var t=[],s=Math.ceil(e.length/i),n=0;n<s;){var r=e.splice(0,n===s-1&&i<e.length?e.length:i);t.push(r),n++}return t}(e.mapSlidesAndIndexes(),e.itemsPerSlide),e.selectInitialSlides())}),0)},e.prototype.ngOnDestroy=function(){this.destroyed=!0},e.prototype.addSlide=function(e){this._slides.add(e),this.multilist&&this._slides.length<=this.itemsPerSlide&&(e.active=!0),!this.multilist&&this.isAnimated&&(e.isAnimated=!0),this.multilist||1!==this._slides.length||(this._currentActiveSlide=void 0,this.activeSlide=0,this.play()),this.multilist&&this._slides.length>this.itemsPerSlide&&this.play()},e.prototype.removeSlide=function(e){var i=this,t=this._slides.indexOf(e);if(this._currentActiveSlide===t){var s;this._slides.length>1&&(s=this.isLast(t)?this.noWrap?t-1:0:t),this._slides.remove(t),setTimeout((function(){i._select(s)}),0)}else{this._slides.remove(t);var n=this.getCurrentSlideIndex();setTimeout((function(){i._currentActiveSlide=n,i.activeSlideChange.emit(i._currentActiveSlide)}),0)}},e.prototype.nextSlideFromInterval=function(e){void 0===e&&(e=!1),this.move(o.NEXT,e)},e.prototype.nextSlide=function(e){void 0===e&&(e=!1),this.isPlaying&&this.restartTimer(),this.move(o.NEXT,e)},e.prototype.previousSlide=function(e){void 0===e&&(e=!1),this.isPlaying&&this.restartTimer(),this.move(o.PREV,e)},e.prototype.getFirstVisibleIndex=function(){return this.slides.findIndex(this.getActive)},e.prototype.getLastVisibleIndex=function(){return function(e,i){for(var t=e.length;t--;)if(i(e[t],t,e))return t;return-1}(this.slides,this.getActive)},e.prototype.move=function(e,i){void 0===i&&(i=!1);var t=this.getFirstVisibleIndex(),s=this.getLastVisibleIndex();this.noWrap&&(e===o.NEXT&&this.isLast(s)||e===o.PREV&&0===t)||(this.multilist?this.moveMultilist(e):this.activeSlide=this.findNextSlideIndex(e,i)||0)},e.prototype.keydownPress=function(e){if(13===e.keyCode||"Enter"===e.key||32===e.keyCode||"Space"===e.key)return this.nextSlide(),void e.preventDefault();37!==e.keyCode&&"LeftArrow"!==e.key?39!==e.keyCode&&"RightArrow"!==e.key||this.nextSlide():this.previousSlide()},e.prototype.onMouseLeave=function(){this.pauseOnFocus||this.play()},e.prototype.onMouseUp=function(){this.pauseOnFocus||this.play()},e.prototype.pauseFocusIn=function(){this.pauseOnFocus&&(this.isPlaying=!1,this.resetTimer())},e.prototype.pauseFocusOut=function(){this.play()},e.prototype.selectSlide=function(e){this.isPlaying&&this.restartTimer(),this.multilist?this.selectSlideRange(this.indicatorsByChunk?e*this.itemsPerSlide:e):this.activeSlide=this.indicatorsByChunk?e*this.itemsPerSlide:e},e.prototype.play=function(){this.isPlaying||(this.isPlaying=!0,this.restartTimer())},e.prototype.pause=function(){this.noPause||(this.isPlaying=!1,this.resetTimer())},e.prototype.getCurrentSlideIndex=function(){return this._slides.findIndex(this.getActive)},e.prototype.isLast=function(e){return e+1>=this._slides.length},e.prototype.isFirst=function(e){return 0===e},e.prototype.indicatorsSlides=function(){var e=this;return this.slides.filter((function(i,t){return!e.indicatorsByChunk||t%e.itemsPerSlide==0}))},e.prototype.selectInitialSlides=function(){var e=this.startFromIndex<=this._slides.length?this.startFromIndex:0;if(this.hideSlides(),this.singleSlideOffset){if(this._slidesWithIndexes=this.mapSlidesAndIndexes(),this._slides.length-e<this.itemsPerSlide){var i=this._slidesWithIndexes.slice(0,e);this._slidesWithIndexes=r(this._slidesWithIndexes,i).slice(i.length).slice(0,this.itemsPerSlide)}else this._slidesWithIndexes=this._slidesWithIndexes.slice(e,e+this.itemsPerSlide);this._slidesWithIndexes.forEach((function(e){return e.item.active=!0})),this.makeSlidesConsistent(this._slidesWithIndexes)}else this.selectRangeByNestedIndex(e);this.slideRangeChange.emit(this.getVisibleIndexes())},e.prototype.findNextSlideIndex=function(e,i){var t=0;if(i||!this.isLast(this.activeSlide)||e===o.PREV||!this.noWrap){switch(e){case o.NEXT:if(void 0===this._currentActiveSlide){t=0;break}if(!this.isLast(this._currentActiveSlide)){t=this._currentActiveSlide+1;break}t=!i&&this.noWrap?this._currentActiveSlide:0;break;case o.PREV:if(void 0===this._currentActiveSlide){t=0;break}if(this._currentActiveSlide>0){t=this._currentActiveSlide-1;break}if(!i&&this.noWrap){t=this._currentActiveSlide;break}t=this._slides.length-1;break;default:throw new Error("Unknown direction")}return t}},e.prototype.mapSlidesAndIndexes=function(){return this.slides.slice().map((function(e,i){return{index:i,item:e}}))},e.prototype.selectSlideRange=function(e){if(!this.isIndexInRange(e)){if(this.hideSlides(),this.singleSlideOffset){var i=this.isIndexOnTheEdges(e)?e:e-this.itemsPerSlide+1,t=this.isIndexOnTheEdges(e)?e+this.itemsPerSlide:e+1;this._slidesWithIndexes=this.mapSlidesAndIndexes().slice(i,t),this.makeSlidesConsistent(this._slidesWithIndexes),this._slidesWithIndexes.forEach((function(e){return e.item.active=!0}))}else this.selectRangeByNestedIndex(e);this.slideRangeChange.emit(this.getVisibleIndexes())}},e.prototype.selectRangeByNestedIndex=function(e){if(this._chunkedSlides){var i=this._chunkedSlides.map((function(e,i){return{index:i,list:e}})).find((function(i){return void 0!==i.list.find((function(i){return i.index===e}))}));i&&(this._currentVisibleSlidesIndex=i.index,this._chunkedSlides[i.index].forEach((function(e){e.item.active=!0})))}},e.prototype.isIndexOnTheEdges=function(e){return e+1-this.itemsPerSlide<=0||e+this.itemsPerSlide<=this._slides.length},e.prototype.isIndexInRange=function(e){return this.singleSlideOffset&&this._slidesWithIndexes?this._slidesWithIndexes.map((function(e){return e.index})).indexOf(e)>=0:e<=this.getLastVisibleIndex()&&e>=this.getFirstVisibleIndex()},e.prototype.hideSlides=function(){this.slides.forEach((function(e){return e.active=!1}))},e.prototype.isVisibleSlideListLast=function(){return!!this._chunkedSlides&&this._currentVisibleSlidesIndex===this._chunkedSlides.length-1},e.prototype.isVisibleSlideListFirst=function(){return 0===this._currentVisibleSlidesIndex},e.prototype.moveSliderByOneItem=function(e){var i,t,s,n;if(this.noWrap){i=this.getFirstVisibleIndex(),t=this.getLastVisibleIndex(),s=e===o.NEXT?i:t,n=e!==o.NEXT?i-1:this.isLast(t)?0:t+1;var l=this._slides.get(s);l&&(l.active=!1);var d=this._slides.get(n);d&&(d.active=!0);var a=this.mapSlidesAndIndexes().filter((function(e){return e.item.active}));return this.makeSlidesConsistent(a),void this.slideRangeChange.emit(this.getVisibleIndexes())}if(this._slidesWithIndexes&&this._slidesWithIndexes[0]){var h,c;if(i=this._slidesWithIndexes[0].index,t=this._slidesWithIndexes[this._slidesWithIndexes.length-1].index,e===o.NEXT)this._slidesWithIndexes.shift(),h=this.isLast(t)?0:t+1,(c=this._slides.get(h))&&this._slidesWithIndexes.push({index:h,item:c});else this._slidesWithIndexes.pop(),h=this.isFirst(i)?this._slides.length-1:i-1,(c=this._slides.get(h))&&(this._slidesWithIndexes=r([{index:h,item:c}],this._slidesWithIndexes));this.hideSlides(),this._slidesWithIndexes.forEach((function(e){return e.item.active=!0})),this.makeSlidesConsistent(this._slidesWithIndexes),this.slideRangeChange.emit(this._slidesWithIndexes.map((function(e){return e.index})))}},e.prototype.moveMultilist=function(e){this.singleSlideOffset?this.moveSliderByOneItem(e):(this.hideSlides(),this.noWrap?this._currentVisibleSlidesIndex=e===o.NEXT?this._currentVisibleSlidesIndex+1:this._currentVisibleSlidesIndex-1:e===o.NEXT?this._currentVisibleSlidesIndex=this.isVisibleSlideListLast()?0:this._currentVisibleSlidesIndex+1:this.isVisibleSlideListFirst()?this._currentVisibleSlidesIndex=this._chunkedSlides?this._chunkedSlides.length-1:0:this._currentVisibleSlidesIndex=this._currentVisibleSlidesIndex-1,this._chunkedSlides&&this._chunkedSlides[this._currentVisibleSlidesIndex].forEach((function(e){return e.item.active=!0})),this.slideRangeChange.emit(this.getVisibleIndexes()))},e.prototype.getVisibleIndexes=function(){return!this.singleSlideOffset&&this._chunkedSlides?this._chunkedSlides[this._currentVisibleSlidesIndex].map((function(e){return e.index})):this._slidesWithIndexes?this._slidesWithIndexes.map((function(e){return e.index})):void 0},e.prototype._select=function(e){if(isNaN(e))this.pause();else{if(!this.multilist&&void 0!==this._currentActiveSlide){var i=this._slides.get(this._currentActiveSlide);void 0!==i&&(i.active=!1)}var t=this._slides.get(e);void 0!==t&&(this._currentActiveSlide=e,t.active=!0,this.activeSlide=e,this.activeSlideChange.emit(e))}},e.prototype.restartTimer=function(){var e=this;this.resetTimer();var i=+this.interval;!isNaN(i)&&i>0&&(this.currentInterval=this.ngZone.runOutsideAngular((function(){return setInterval((function(){var i=+e.interval;e.ngZone.run((function(){e.isPlaying&&!isNaN(e.interval)&&i>0&&e.slides.length?e.nextSlideFromInterval():e.pause()}))}),i)})))},Object.defineProperty(e.prototype,"multilist",{get:function(){return this.itemsPerSlide>1},enumerable:!1,configurable:!0}),e.prototype.resetTimer=function(){this.currentInterval&&(clearInterval(this.currentInterval),this.currentInterval=void 0)},e}();d.decorators=[{type:i.Component,args:[{selector:"carousel",template:'<div (mouseenter)="pause()"\n     (mouseleave)="onMouseLeave()"\n     (mouseup)="onMouseUp()"\n     (keydown)="keydownPress($event)"\n     (focusin)="pauseFocusIn()"\n     (focusout)="pauseFocusOut()"\n     class="carousel slide" tabindex="0">\n  <ol class="carousel-indicators" *ngIf="showIndicators && slides.length > 1">\n    <li *ngFor="let slide of indicatorsSlides(); let i = index;"\n        [class.active]="slide.active === true"\n        (click)="selectSlide(i)">\n    </li>\n  </ol>\n  <div class="carousel-inner" [ngStyle]="{\'display\': multilist ? \'flex\' : \'block\'}">\n    <ng-content></ng-content>\n  </div>\n  <a class="left carousel-control carousel-control-prev"\n     [class.disabled]="activeSlide === 0 && noWrap"\n     (click)="previousSlide()" *ngIf="slides.length > 1"\n      tabindex="0" role="button">\n    <span class="icon-prev carousel-control-prev-icon" aria-hidden="true"></span>\n    <span *ngIf="isBs4" class="sr-only">Previous</span>\n  </a>\n  <a class="right carousel-control carousel-control-next"\n     [class.disabled]="isLast(activeSlide) && noWrap"\n     (click)="nextSlide()" *ngIf="slides.length > 1"\n     tabindex="0" role="button">\n    <span class="icon-next carousel-control-next-icon" aria-hidden="true"></span>\n    <span class="sr-only">Next</span>\n  </a>\n</div>\n'}]}],d.ctorParameters=function(){return[{type:l},{type:i.NgZone}]},d.propDecorators={noWrap:[{type:i.Input}],noPause:[{type:i.Input}],showIndicators:[{type:i.Input}],pauseOnFocus:[{type:i.Input}],indicatorsByChunk:[{type:i.Input}],itemsPerSlide:[{type:i.Input}],singleSlideOffset:[{type:i.Input}],isAnimated:[{type:i.Input}],activeSlideChange:[{type:i.Output}],slideRangeChange:[{type:i.Output}],activeSlide:[{type:i.Input}],startFromIndex:[{type:i.Input}],interval:[{type:i.Input}]};var a=function(){function e(e){this.active=!1,this.itemWidth="100%",this.order=0,this.isAnimated=!1,this.addClass=!0,this.carousel=e}return e.prototype.ngOnInit=function(){this.carousel.addSlide(this),this.itemWidth=100/this.carousel.itemsPerSlide+"%"},e.prototype.ngOnDestroy=function(){this.carousel.removeSlide(this)},e}();a.decorators=[{type:i.Component,args:[{selector:"slide",template:'\n    <div [class.active]="active" class="item">\n      <ng-content></ng-content>\n    </div>\n  ',host:{"[attr.aria-hidden]":"!active"},styles:["\n    :host.carousel-animation {\n       transition: opacity 0.6s ease, visibility 0.6s ease;\n       float: left;\n    }\n    :host.carousel-animation.active {\n      opacity: 1;\n      visibility: visible;\n    }\n    :host.carousel-animation:not(.active) {\n      display: block;\n      position: absolute;\n      opacity: 0;\n      visibility: hidden;\n    }\n  "]}]}],a.ctorParameters=function(){return[{type:d}]},a.propDecorators={active:[{type:i.HostBinding,args:["class.active"]},{type:i.Input}],itemWidth:[{type:i.HostBinding,args:["style.width"]}],order:[{type:i.HostBinding,args:["style.order"]}],isAnimated:[{type:i.HostBinding,args:["class.carousel-animation"]}],addClass:[{type:i.HostBinding,args:["class.item"]},{type:i.HostBinding,args:["class.carousel-item"]}]};var h=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}();h.decorators=[{type:i.NgModule,args:[{imports:[s.CommonModule],declarations:[a,d],exports:[a,d]}]}],e.CarouselComponent=d,e.CarouselConfig=l,e.CarouselModule=h,e.SlideComponent=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-bootstrap-carousel.umd.min.js.map